[{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Neil Charles. Maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Charles N (2023). baRb: Interface BARB's Spot API. R package version 0.2.0.","code":"@Manual{,   title = {baRb: Interface to BARB's Spot API},   author = {Neil Charles},   year = {2023},   note = {R package version 0.2.0}, }"},{"path":"/index.html","id":"barb","dir":"","previous_headings":"","what":"Interface to BARB's Spot API","title":"Interface to BARB's Spot API","text":"Functions working BARB’s TV spot API","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Interface to BARB's Spot API","text":"","code":"remotes::install_github(\"ITV/baRb\")"},{"path":"/index.html","id":"getting-started","dir":"","previous_headings":"","what":"Getting started","title":"Interface to BARB's Spot API","text":"BaRb requires username password set using environment variables. Use commands set .Renviron file. Get list available advertisers : spot list specific advertiser : Official documentation BARB’s API can found .","code":"Sys.setenv(BARB_API_USERNAME = \"username\") Sys.setenv(BARB_API_PASSWORD = \"password\") barb_get_advertisers() barb_get_spots(   min_transmission_date = \"2023-01-01\",   max_transmission_date = \"2023-01-31\",   advertiser_name = \"hays_travel\")"},{"path":"/reference/barb.html","id":null,"dir":"Reference","previous_headings":"","what":"Make a request to the barb API — barb","title":"Make a request to the barb API — barb","text":"Send request barb API. lightweight general purpose request generating function requests barb API can used workhorse query API endpoints.","code":""},{"path":"/reference/barb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make a request to the barb API — barb","text":"","code":"barb(path, ..., token = NA_character_)"},{"path":"/reference/barb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make a request to the barb API — barb","text":"path route request endpoint. appended API base URL. ... arguments used build query parameters token character(1) barb API token. NA try find session default token","code":""},{"path":"/reference/barb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make a request to the barb API — barb","text":"list raw response json","code":""},{"path":"/reference/barb.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Make a request to the barb API — barb","text":"function return list raw response json, iterating pages necessary.","code":""},{"path":"/reference/barb.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make a request to the barb API — barb","text":"","code":"if (FALSE) {  barb(    \"/advertising_spots\",    min_transmission_date = \"2023-01-01\",    max_transmission_date = \"2023-01-31\",    advertiser_name = \"hays_travel\"  )   barb(\"/panels\") }"},{"path":"/reference/barb_add_female_audiences.html","id":null,"dir":"Reference","previous_headings":"","what":"Add missing audiences to a spot or programme impacts table — barb_add_female_audiences","title":"Add missing audiences to a spot or programme impacts table — barb_add_female_audiences","text":"Add missing audiences spot programme impacts table","code":""},{"path":"/reference/barb_add_female_audiences.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add missing audiences to a spot or programme impacts table — barb_add_female_audiences","text":"","code":"barb_add_female_audiences(impacts)"},{"path":"/reference/barb_add_female_audiences.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add missing audiences to a spot or programme impacts table — barb_add_female_audiences","text":"impacts output barb_get_spots() barb_get_programmes","code":""},{"path":"/reference/barb_auth_header.html","id":null,"dir":"Reference","previous_headings":"","what":"convenience function to generate the auth header — barb_auth_header","title":"convenience function to generate the auth header — barb_auth_header","text":"Creates request header authorization API token.","code":""},{"path":"/reference/barb_auth_header.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"convenience function to generate the auth header — barb_auth_header","text":"","code":"barb_auth_header(token)"},{"path":"/reference/barb_auth_header.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"convenience function to generate the auth header — barb_auth_header","text":"token character(1) barb API token","code":""},{"path":"/reference/barb_auth_header.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"convenience function to generate the auth header — barb_auth_header","text":"httr::request object","code":""},{"path":"/reference/barb_get_access_token.html","id":null,"dir":"Reference","previous_headings":"","what":"Get access token for barb API — barb_get_access_token","title":"Get access token for barb API — barb_get_access_token","text":"Request access token API using username password.","code":""},{"path":"/reference/barb_get_access_token.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get access token for barb API — barb_get_access_token","text":"","code":"barb_get_access_token(   username = Sys.getenv(.barb_user_env_var, NA),   password = Sys.getenv(.barb_password_env_var, NA) )"},{"path":"/reference/barb_get_access_token.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get access token for barb API — barb_get_access_token","text":"username character(1) barb username. password character(1) barb password.","code":""},{"path":"/reference/barb_get_access_token.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get access token for barb API — barb_get_access_token","text":"character(1) barb API token","code":""},{"path":"/reference/barb_get_advertisers.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the list of available advertiser names — barb_get_advertisers","title":"Get the list of available advertiser names — barb_get_advertisers","text":"Get list available advertiser names","code":""},{"path":"/reference/barb_get_advertisers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the list of available advertiser names — barb_get_advertisers","text":"","code":"barb_get_advertisers()"},{"path":"/reference/barb_get_advertisers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the list of available advertiser names — barb_get_advertisers","text":"character vector advertiser names","code":""},{"path":"/reference/barb_get_advertisers.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the list of available advertiser names — barb_get_advertisers","text":"","code":"barb_get_advertisers() #> Error in barb_login(): Username or password not set"},{"path":"/reference/barb_get_next.html","id":null,"dir":"Reference","previous_headings":"","what":"Get next url from the response — barb_get_next","title":"Get next url from the response — barb_get_next","text":"Get next url response","code":""},{"path":"/reference/barb_get_next.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get next url from the response — barb_get_next","text":"","code":"barb_get_next(response)"},{"path":"/reference/barb_get_next.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get next url from the response — barb_get_next","text":"response httr::response object","code":""},{"path":"/reference/barb_get_next.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get next url from the response — barb_get_next","text":"character(1) url next set results","code":""},{"path":"/reference/barb_get_panels.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the list of panels — barb_get_panels","title":"Get the list of panels — barb_get_panels","text":"Returns complete list panel codes panel names. useful finding correct panel code using panel code query parameter endpoints.","code":""},{"path":"/reference/barb_get_panels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the list of panels — barb_get_panels","text":"","code":"barb_get_panels(as_tibble = TRUE, token = NA_character_)"},{"path":"/reference/barb_get_panels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the list of panels — barb_get_panels","text":"as_tibble TRUE cast result tibble object, otherwise list representation raw json response token character(1) barb API token. NA try find session default token","code":""},{"path":"/reference/barb_get_panels.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the list of panels — barb_get_panels","text":"","code":"if (FALSE) {   barb_get_panels() }"},{"path":"/reference/barb_get_programmes.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a tibble of spots from the BARB API — barb_get_programmes","title":"Get a tibble of spots from the BARB API — barb_get_programmes","text":"Get tibble spots BARB API","code":""},{"path":"/reference/barb_get_programmes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a tibble of spots from the BARB API — barb_get_programmes","text":"","code":"barb_get_programmes(   min_transmission_date = NULL,   max_transmission_date = NULL,   station_code = \"\",   macro_regions = FALSE,   consolidated = TRUE,   use_reporting_days = FALSE )"},{"path":"/reference/barb_get_programmes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a tibble of spots from the BARB API — barb_get_programmes","text":"min_transmission_date Start date spot query max_transmission_date End date spot query station_code station code obtained barb_get_stations() macro_regions whether return macro standard region areas consolidated whether return consolidated live viewing. Defaults TRUE (consolidated). use_reporting_days whether use standard 24 hour clock BARB reporting clock. Defaults FALSE (standard 24 hour clock).","code":""},{"path":"/reference/barb_get_programmes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a tibble of spots from the BARB API — barb_get_programmes","text":"tibble TV spots","code":""},{"path":"/reference/barb_get_spots.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a tibble of spots from the BARB API — barb_get_spots","title":"Get a tibble of spots from the BARB API — barb_get_spots","text":"Get tibble spots BARB API","code":""},{"path":"/reference/barb_get_spots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a tibble of spots from the BARB API — barb_get_spots","text":"","code":"barb_get_spots(   min_transmission_date = NULL,   max_transmission_date = NULL,   advertiser_name = NULL,   macro_regions = FALSE,   consolidated = TRUE,   use_reporting_days = FALSE,   standardise_audiences = \"\" )"},{"path":"/reference/barb_get_spots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a tibble of spots from the BARB API — barb_get_spots","text":"min_transmission_date Start date spot query max_transmission_date End date spot query advertiser_name Advertiser name. Get names barb_get_advertisers() macro_regions whether return macro standard region areas consolidated whether return consolidated live viewing. Defaults TRUE (consolidated). use_reporting_days whether use standard 24 hour clock BARB reporting clock. Defaults FALSE (standard 24 hour clock). standardise_audiences whether standardise impacts spot time length. Options default standardisation (\"\"), \"using_duration\" \"using_rate_factors\".","code":""},{"path":"/reference/barb_get_spots.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a tibble of spots from the BARB API — barb_get_spots","text":"tibble TV spots","code":""},{"path":"/reference/barb_get_spots.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get a tibble of spots from the BARB API — barb_get_spots","text":"","code":"barb_get_spots(min_transmission_date = \"2023-01-01\", max_transmission_date = \"2023-01-31\", advertiser_name = \"hays_travel\") #> Error in barb_login(): Username or password not set"},{"path":"/reference/barb_get_stations.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a tibble of station names — barb_get_stations","title":"Get a tibble of station names — barb_get_stations","text":"Get tibble station names","code":""},{"path":"/reference/barb_get_stations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a tibble of station names — barb_get_stations","text":"","code":"barb_get_stations()"},{"path":"/reference/barb_get_stations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a tibble of station names — barb_get_stations","text":"tibble available stations","code":""},{"path":"/reference/barb_get_stations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get a tibble of station names — barb_get_stations","text":"","code":"barb_get_stations() #> Error in barb_login(): Username or password not set"},{"path":"/reference/barb_has_next.html","id":null,"dir":"Reference","previous_headings":"","what":"Does the response indicate furhter pages — barb_has_next","title":"Does the response indicate furhter pages — barb_has_next","text":"response indicate furhter pages","code":""},{"path":"/reference/barb_has_next.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Does the response indicate furhter pages — barb_has_next","text":"","code":"barb_has_next(response)"},{"path":"/reference/barb_has_next.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Does the response indicate furhter pages — barb_has_next","text":"response httr::response object","code":""},{"path":"/reference/barb_has_next.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Does the response indicate furhter pages — barb_has_next","text":"logical(1) TRUE URL indicating next page","code":""},{"path":"/reference/barb_next.html","id":null,"dir":"Reference","previous_headings":"","what":"Call the followup request to get the next page of results — barb_next","title":"Call the followup request to get the next page of results — barb_next","text":"Call followup request get next page results","code":""},{"path":"/reference/barb_next.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Call the followup request to get the next page of results — barb_next","text":"","code":"barb_next(response, token)"},{"path":"/reference/barb_next.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Call the followup request to get the next page of results — barb_next","text":"response httr::response object token barb API token","code":""},{"path":"/reference/barb_query_api.html","id":null,"dir":"Reference","previous_headings":"","what":"Submit a query to the BARB API (usually not called directly) — barb_query_api","title":"Submit a query to the BARB API (usually not called directly) — barb_query_api","text":"Submit query BARB API (usually called directly)","code":""},{"path":"/reference/barb_query_api.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Submit a query to the BARB API (usually not called directly) — barb_query_api","text":"","code":"barb_query_api(url, query = list())"},{"path":"/reference/barb_query_api.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Submit a query to the BARB API (usually not called directly) — barb_query_api","text":"url Endpoint URL query List query parameters","code":""},{"path":"/reference/barb_query_api.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Submit a query to the BARB API (usually not called directly) — barb_query_api","text":"API results json","code":""},{"path":"/reference/barb_query_api.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Submit a query to the BARB API (usually not called directly) — barb_query_api","text":"","code":"# Example only. You'd use barb_get_spots() for this instead. raw_json <- barb_query_api(   \"https://dev.barb-api.co.uk/api/v1/advertising_spots\",   list(     min_transmission_date = \"2022-01-01\",     max_transmission_date = \"2022-12-31\",     advertiser_name = \"PLAYMOBIL UK\") ) #> Error in barb_login(): Username or password not set"},{"path":"/reference/barb_rollup_spots.html","id":null,"dir":"Reference","previous_headings":"","what":"Roll up raw spot data by broadcast time for spot to web modelling — barb_rollup_spots","title":"Roll up raw spot data by broadcast time for spot to web modelling — barb_rollup_spots","text":"Roll raw spot data broadcast time spot web modelling","code":""},{"path":"/reference/barb_rollup_spots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Roll up raw spot data by broadcast time for spot to web modelling — barb_rollup_spots","text":"","code":"barb_rollup_spots(spots, plus_one = TRUE, hd = TRUE)"},{"path":"/reference/barb_rollup_spots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Roll up raw spot data by broadcast time for spot to web modelling — barb_rollup_spots","text":"spots raw spot file plus_one Roll +1 channels? (T/F) hd Roll HD channels? (T/F)","code":""},{"path":"/reference/barb_rollup_spots.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Roll up raw spot data by broadcast time for spot to web modelling — barb_rollup_spots","text":"tibble rolled spots","code":""},{"path":"/reference/get_token.html","id":null,"dir":"Reference","previous_headings":"","what":"Accessor for barb token — get_token","title":"Accessor for barb token — get_token","text":"Retrieve current token.","code":""},{"path":"/reference/get_token.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Accessor for barb token — get_token","text":"","code":"get_token(token = NA_character_)"},{"path":"/reference/get_token.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Accessor for barb token — get_token","text":"token barb API token","code":""},{"path":"/reference/get_token.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Accessor for barb token — get_token","text":"character(1) barb API token","code":""},{"path":"/reference/get_token.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Accessor for barb token — get_token","text":"token passed, take priority. token argument provided, attempt retrieve default token. Throws error token can found.","code":""},{"path":"/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling `rhs(lhs)`.","code":""},{"path":"/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"As tibble — reexports","title":"As tibble — reexports","text":"objects imported packages. Follow links see documentation. tibble as_tibble","code":""},{"path":"/reference/set_env_var.html","id":null,"dir":"Reference","previous_headings":"","what":"convenience function for setting environment variables — set_env_var","title":"convenience function for setting environment variables — set_env_var","text":"convenience function setting environment variables","code":""},{"path":"/reference/set_env_var.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"convenience function for setting environment variables — set_env_var","text":"","code":"set_env_var(value, name)"},{"path":"/reference/set_env_var.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"convenience function for setting environment variables — set_env_var","text":"value environment variable name environment variable","code":""},{"path":"/reference/set_password.html","id":null,"dir":"Reference","previous_headings":"","what":"Set the password environment variable — set_password","title":"Set the password environment variable — set_password","text":"Sets default barb password session.","code":""},{"path":"/reference/set_password.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set the password environment variable — set_password","text":"","code":"set_password(password)"},{"path":"/reference/set_password.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set the password environment variable — set_password","text":"password character(1) barb api password","code":""},{"path":"/reference/set_token.html","id":null,"dir":"Reference","previous_headings":"","what":"Set the default token — set_token","title":"Set the default token — set_token","text":"Sets default barb token session","code":""},{"path":"/reference/set_token.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set the default token — set_token","text":"","code":"set_token(token)"},{"path":"/reference/set_token.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set the default token — set_token","text":"token character(1) barb api token see [baRb::barb_access_token()]","code":""},{"path":[]},{"path":"/reference/set_user.html","id":null,"dir":"Reference","previous_headings":"","what":"Set the user environment variable — set_user","title":"Set the user environment variable — set_user","text":"Sets default barb user session.","code":""},{"path":"/reference/set_user.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set the user environment variable — set_user","text":"","code":"set_user(user)"},{"path":"/reference/set_user.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set the user environment variable — set_user","text":"user character(1) barb api username","code":""}]
